{"version":3,"sources":["../src/browser-scripts.js"],"names":[],"mappings":"AAAA,YAAY,CAAA;;;;;;;;;;;;;;AAOL,SAAS,cAAc,GAAI;AAChC,MAAI,OAAO,IAAI,MAAM,EAAE;AACrB,kBAAc,CAAC,SAAS,CAAC,IAAI,GAAG,MAAM,CAAC,KAAK,CAAA;AAC5C,WAAO,MAAM,CAAC,KAAK,CAAA;AACnB,QAAI,cAAc,IAAI,MAAM,EAAE;AAC5B,UAAI,QAAQ,CAAA;;AAEZ,UAAI,MAAM,CAAC,YAAY,EAAE;AACvB,gBAAQ,GAAG,MAAM,CAAC,YAAY,CAAC,MAAM,CAAC,UAAU,CAAC,EAAE;AACjD,iBAAO,CAAC,CAAC,YAAY,KAAK,MAAM,CAAA;SACjC,CAAC,CAAC;OACJ,MAAM;AACL,gBAAQ,GAAG,MAAM,CAAC,YAAY,CAAA;OAC/B;;AAED,aAAO,MAAM,CAAC,YAAY,CAAA;AAC1B,aAAO,QAAQ,CAAA;KAChB;GACF;CACF;;;;;;AAIM,SAAS,WAAW,GAAI;AAC7B,MAAI,MAAM,CAAC,YAAY,EAAE;AACvB,WAAO,MAAM,CAAC,YAAY,CAAC,MAAM,CAAC,UAAU,CAAC,EAAE;AAC7C,aAAO,CAAC,CAAC,YAAY,KAAK,MAAM,CAAA;KACjC,CAAC,CAAA;GACH,MAAM;AACL,WAAO,MAAM,CAAC,YAAY,CAAA;GAC3B;CACF;;;;;;AAIM,SAAS,YAAY,GAAI;AAC9B,SAAO,CAAC,UAAU,IAAI,EAAE;AACtB,UAAM,CAAC,YAAY,GAAG,MAAM,CAAC,YAAY,IAAI,EAAE,CAAA;AAC/C,UAAM,CAAC,KAAK,GAAG,IAAI,CAAA;AACnB,kBAAc,CAAC,SAAS,CAAC,IAAI,GAAG,YAAY;AAC1C,YAAM,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA;AAC9B,aAAO,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAA;KACnC,CAAA;GACF,CAAA,CAAE,cAAc,CAAC,SAAS,CAAC,IAAI,CAAC,CAAA;CAClC","file":"browser-scripts.js","sourcesContent":["'use strict'\n\n/* global XMLHttpRequest */\n\n/**\n * Clean up function for removing the wrapped open method and removing gloabl variables.\n */\nexport function removeListener () {\n  if ('_open' in window) {\n    XMLHttpRequest.prototype.open = window._open\n    delete window._open\n    if ('httpRequests' in window) {\n      var requests\n\n      if (window.httpRequests) {\n        requests = window.httpRequests.filter(function (x) {\n          return x.responseType !== 'blob'\n        });\n      } else {\n        requests = window.httpRequests\n      }\n\n      delete window.httpRequests\n      return requests\n    }\n  }\n}\n/**\n * Get the captured requests.\n */\nexport function getRequests () {\n  if (window.httpRequests) {\n    return window.httpRequests.filter(function (x) {\n      return x.responseType !== 'blob'\n    })\n  } else {\n    return window.httpRequests\n  }\n}\n/**\n * Add the open listener by wrapping the current function.\n */\nexport function openListener () {\n  return (function (open) {\n    window.httpRequests = window.httpRequests || []\n    window._open = open\n    XMLHttpRequest.prototype.open = function () {\n      window.httpRequests.push(this)\n      return open.apply(this, arguments)\n    }\n  })(XMLHttpRequest.prototype.open)\n}\n"]}